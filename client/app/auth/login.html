<div class="login">
  <header>
    <span class="title">Jam Record</span>
  </header>
  <div class="form-container">
    <form name="loginForm" class="login-form">
      <fieldset>
        <legend>Login or Signup</legend>
        <label>
          <input ng-focus="loginError = signupError = '';" name="email" ng-field ng-model="user.email" placeholder="email" type="email" ng-pattern="/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/" ng-model-options="{ updateOn: 'blur' }" required />
          <div class="field-error">
            <span ng-show="loginForm.email.$error.required && loginForm.email.$dirty">Required!</span>
            <span ng-show="loginForm.email.$error.email">Not valid email!</span>
          </div>
        </label>
        <label>
          <input type="password" name="password" ng-model="user.password" placeholder="password" ng-focus="loginError = signupError = '';"  my-enter="login()" required />
          <div class="field-error">
            <span ng-show="loginForm.password.$error.required && loginForm.password.$dirty">Required!</span>
          </div>
        </label>
        <div class="form-buttons">
          <button class="button-primary" ng-click="login()" ng-disabled="loginForm.$invalid || confirm">Login</button>
          <button ng-click="confirm = true" ng-disabled="loginForm.$invalid || confirm">Signup</button>
          <div class="field-error">
            <span ng-show="loginError">{{loginError}}</span>
          </div>
        </div>
        <div class="confirm-account animate-show" ng-show="confirm">
          <label>
            <input ng-focus="loginError = signupError = '';" type="password" name="passwordConfirm" ng-model="newPassword" placeholder="confirm password" my-enter="signup(newPassword)" ng-minlength="8" />
            <div class="field-error">
              <span ng-show="passMismatch && !loginForm.passwordConfirm.$error.minlength && !newPassword.length">Passwords did not match!</span>
              <span ng-show="loginForm.passwordConfirm.$error.minlength">Too short!</span>
            </div>
          </label>
          <div class="form-buttons">
            <button type="submit" ng-click="signup(newPassword)" ng-disabled="loginForm.$invalid">Create Account</button>
            <button class="icon-button cancel" type="cancel" ng-click="confirm = false;">cancel</button>
            <div class="field-error">
              <span ng-show="signupError">{{signupError}}</span>
            </div>
          </div>
        </div>
      </fieldset>
    </form>
  </div>
</div>
